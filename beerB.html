<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Beer Buddy</title>
	<!-- Reset CSS -->
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
	<!-- Latest compiled and minified bootstrap CSS -->
	<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/slate/bootstrap.min.css" rel="stylesheet" integrity="sha384-RpX8okQqCyUNG7PlOYNybyJXYTtGQH+7rIKiVvg1DLg6jahLEk47VvpUyS+E2/uJ" crossorigin="anonymous">
	
	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<!-- Latest compiled Bootstraap JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<!-- ajax library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

	<!-- firebase -->
	<script src="https://www.gstatic.com/firebasejs/3.7.2/firebase.js"></script>
	<script>
		// Initialize Firebase
		var config = {
			apiKey: "AIzaSyDdoqQmy6PZn0tlP33NvL83hClgelO1rkU",
			authDomain: "week-8-group-project.firebaseapp.com",
			databaseURL: "https://week-8-group-project.firebaseio.com",
			storageBucket: "week-8-group-project.appspot.com",
			messagingSenderId: "836948854327"
		};
		firebase.initializeApp(config);
	</script>



	<!-- tesseract.js -->
	<script src='https://cdn.rawgit.com/naptha/tesseract.js/1.0.10/dist/tesseract.js'></script>
	<!-- Viewport -->
	<meta name="viewport" content="width=device-width, initial-scale=.6">

	<!-- My CSS -->
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">

</head>

<body>
	<div class="container">
		<div class="panel panel-warning">
			<div class="panel-heading">
				<h1 class="text-default text-center">Beer Buddy</h1>
			</div>
			<div class="panel-body">
				<form role="form">
					<div class="form-group">
<!--drag and drop section here-->
	<div id="dropContainer">
		<header role="banner">
			<h1>Beer Me!</h1>
		</header>
				
		<div role="dropMain">
			<section id="dropMain-content">
				<canvas id="dropMy-canvas"  ></canvas>
				<script>
					(function () {
						var canvas = document.getElementById("dropMy-canvas"),
							context = canvas.getContext("2d"),
							img = document.createElement("img"),
							mouseDown = false,
			
							hasText = true,
							clearCanvas = function () {
								if (hasText) {
									context.clearRect(0, 0, canvas.width, canvas.height);
									hasText = false;
								}
							};
							
						// Adding instructions
						context.fillText("Drop an image onto the canvas", 250, 100);
						
						// Image for loading	
						img.addEventListener("load", function () {
							clearCanvas();
							context.drawImage(img, 0, 0);
						}, false);

						// To enable drag and drop
						canvas.addEventListener("dragover", function (evt) {
							evt.preventDefault();
						}, false);

						// Handle dropped image file - only Firefox and Google Chrome
						canvas.addEventListener("drop", function (evt) {
							var files = evt.dataTransfer.files;
							if (files.length > 0) {
								var file = files[0];
								if (typeof FileReader !== "undefined" && file.type.indexOf("image") != -1) {
									var reader = new FileReader();
									// Note: addEventListener doesn't work in Google Chrome for this event
									reader.onload = function (evt) {
										img.src = evt.target.result;
									};
									reader.readAsDataURL(file);
								}
							}
							evt.preventDefault();
						}, false);
					
					
					var language = 'eng'
					document.body.addEventListener('drop', function(e){
						e.stopPropagation();
						e.preventDefault();
						var file = e.dataTransfer.files[0]
						var reader = new FileReader();

						Tesseract.recognize(file, language)
							.progress(function(p) {
							console.log('progress', p)
							})
							.then(function(result) {
							console.log('result', result)
							})
						reader.onload = function(e){
							img.src = e.target.result;
								img.onload = function(){
							
							}
						}
						reader.readAsDataURL(file);
					})
					})();

					//convert image to text//
				</script>
			</section>
		</div>
	</div>
<!--end drag and drop section-->
						<label for="name-input text-default">Add Beers</label>
						<textarea class="form-control" id="name-input"></textarea>
						<div class="btn-group btn-group-justified">
							<a href="#" class="btn btn-default" id="photo-btn"><span class="glyphicon glyphicon-camera">&nbsp</span>Capture</a>
							<a href="#" class="btn btn-warning" id="submit-btn">Submit</a>
							<a href="#" class="btn btn-default" id="clear-btn">Clear</a>
						</div>
						<!--///workign area for image Capture-->
						<div>
						<input id="myFileInput" type="file" accept="image/*;capture=camera">
						</div>
				<!--///end image capture working area-->
					</div>
				</form>
			</div>
		</div>


		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title text-warning" id="userName">Beer List</h3>
			</div>
			<div class="panel-body">
				<table class="table table-striped table-hover ">
					<thead>
						<tr>
							<th><button type="button" class="btn btn-xs btn-default hidden" id="favAll-btn">â˜…</button></th>
							<th><button type="button" class="btn btn-xs btn-default" id="name-btn">Name</button></th>
							<th><button type="button" class="btn btn-xs btn-default" id="style-btn">Style</button></th>
							<th><button type="button" class="btn btn-xs btn-default" id="rating-btn">Rating</button></th>
							<th><button type="button" class="btn btn-xs btn-default" id="abv-btn">abv</button></th>
							<th><button type="button" class="btn btn-xs btn-default" id="deleteAll-btn">X</button></th>
						</tr>
					</thead>
					<tbody>
						<!-- wine list fronm JS goes here -->



						<!-- /wine list fronm JS goes here -->
					</tbody>
				</table>
			</div>
		</div>

	</div>
	<!-- JavaScript -->
	<script type="text/javascript" src="assets/javascript/app.js"></script>
</body>

</html>
